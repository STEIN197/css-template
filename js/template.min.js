function main(){setScalable(),$(".dropdown.dropdown-tabs").each(initDropdown),$("#burger").click(initBurger),$(".slider").each(initSlick),$("img.img-cover").cover({position:"absolute"}),initMfp(),$(window).scroll(),$(window).resize(),$(".js-anchor").click(anchorView)}function initSlick(){var e=$(this),t={},o=e.data("slick");o&&(t=o),$wrapper=e.closest(".slider-wrapper"),$btnswrapper=$wrapper.find(".slider-btns"),$dotswrapper=$wrapper.find(".slider-dots"),$btnswrapper.length&&$.extend(t,{appendArrows:$btnswrapper}),$dotswrapper.length&&$.extend(t,{appendDots:$dotswrapper}),e.slick(t)}function initDropdown(){var e=$(this),t=$(e.data("target"));e.find(".dropdown-item").click(function(e){e.preventDefault();var o=$(this),n=o.attr("href");o.closest(".dropdown").children("button").text(o.text()),t.find(sformat("a[href='%1']",n)).click()})}function initBurger(e){$(this);$menubar.hasClass("expanded")?($menubar.removeClass("expanded"),$menubar.animate({opacity:0},{complete:function(){$menubar.css("display","none"),$body.removeClass("fixed")}})):($menubar.addClass("expanded"),$body.addClass("fixed"),$menubar.css("display","block"),$menubar.animate({opacity:1}))}function initMfp(){$(".js-gallery").each(function(e){var t=$(this);t.find(".item-mfp").magnificPopup({type:"image",gallery:{enabled:!0}})})}function anchorView(e){var t=$(this),o=t.attr("href").split("#"),n=o[0]||location.pathname,i=o[1];location.pathname===n&&(e.preventDefault(),$menubar.is(".expanded")&&$burger.click(),$("html, body").animate({scrollTop:$(sformat("#%1",i)).offset().top-$header.height()},t.data("speed")?t.data("speed")/1:void 0))}function initGoogleMaps(e){e=e||".gmap";var t=$(e);t.each(function(){var e=$(this),t=e.data("map");t=$.extend({zoom:13,center:null,scrollwheel:!1,zoomControl:!0,streetViewControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP},t);var o=new google.maps.Map(this,t),n=new google.maps.Marker({position:new google.maps.LatLng(t.center.lat,t.center.lng),map:o,icon:t.icon}),i=new google.maps.InfoWindow({content:format(t.content)});google.maps.event.addListener(n,"click",function(){i.open(o,n)})})}function changeFilename(e,t,o){e=e||".file",t=t||".filename",o=o||".fileremove";var n=$(t).text();$("input[type='file']").change(function(i){var r=$(this),a=r.closest(e),s=a.find(t),l=a.find(o),c=r.val().replace(/.*\\(.*)/,"$1").replace(/.*\/(.*)/,"$1");s.text(c?c:n),l.removeClass("o-0").addClass("cp")}),$(o).click(function(o){var i=$(this);i.addClass("o-0").removeClass("cp").closest(e).find(t).val("").text(n)})}function setScalable(){if(screen.width<768){var e=$("meta[name='viewport']"),t=e.attr("content");e.attr("content",sformat("%1, user-scalable=no",t))}}function format(e,t,o,n){t=t||window,o=o||"%",n=n||".";var i=new RegExp(o+".+?"+o,"g"),r=e.replace(i,function(e,o,i){e=e.slice(1,-1);var r=e.split(n),a=r.length,s=t[r[0]];if(void 0===s)return"";for(var l=1;l<a;l++)if(s=s[r[l]],void 0===s)return"";return s});return r}function sformat(e){var t=arguments,o=t.length-1,n=new RegExp("%\\d+","g"),i=e.replace(n,function(e){var n=e.slice(1)/1;if(n>=t.length)return"";for(var i="";o<n;)i=n.toString().slice(-1)+i,n=Math.floor(n/10);return t[n]+i});return i}function $_COOKIE(e,t,o,n){var i=document.cookie.split(";");if(void 0===e){for(var r={keys:[],values:[]},a="",s=0;s<i.length;s++)a=i[s].trim().split("="),r.keys.push(a[0]),r.values.push(a[1]);return r}if(void 0!==t){if(""===t){if(document.cookie=e+"=;max-age=-99999999;expires=Thu, 01 Jan 1970 00:00:01 GMT",void 0!==$_COOKIE(e))throw new Error(sformat('Cookie with key "%1" cannot be removed',e))}else o=o||"/",void 0!==n?document.cookie=format("%key%=%value%;max-age=%lifetime%;path=%path%",{key:e,value:t,path:o,lifetime:n}):document.cookie=format("%key%=%value%;path=%path%",{key:e,value:t,path:o});return!0}if("string"!=typeof e)if(Array.isArray(e)&&e.length)for(var l=e.length,s=0;s<l;s++)$_COOKIE(e[s].name,e[s].value,e[s].lifetime,e[s].path);else{if(!(Object.keys(e).length>0)){i=$_COOKIE();for(var c=i.keys.length,s=0;s<c;++s)$_COOKIE(i.keys[s],"");return!0}for(var p in e)$_COOKIE(p,e[p])}else for(var f="",r="",s=0;s<i.length;s++){var u=i[s].trim().split("=");if(f=u[0],f===e)return u[1]}}function $_GET(e,t){if(!history.pushState)throw new Error('Your browser does not support "history.pushState" method');var o=location.href,n=o.split("?")[1];if(!e){if(!n)return;n=n.split("&");var i=n.length,r=param=[];r={keys:[],values:[]};for(var a=0;a<i;++a)param=n[a].split("="),r.keys.push(param[0]),r.values.push(param[1]);return r}if(void 0!==t){if(""===t)return!$_GET(e)||(n=n.split("&"),n=n.filter(function(t,o,n){var i=t.split("=")[0];return e!==i}),n=n.join("&"),o=location.protocol+"//"+location.host+location.pathname+(n?"?"+n:""),history.pushState({path:o},"",o),!0);n=n?n.split("&"):[];var s=$_GET(e);if(s==t)return!0;if(void 0===s)n.push(e+"="+t);else{var l=n.indexOf(e+"="+s);n[l]=e+"="+t}return n=n.join("&"),o=location.protocol+"//"+location.host+location.pathname+"?"+n,history.pushState({path:o},"",o),!0}if("string"==typeof e){if(!n)return;n=n.split("&");var s=n.find(function(t,o,n){var i=t.split("=")[0];return i===e});return void 0===s?void 0:s.split("=")[1]}if(Object.keys(e).length)for(var c in e)$_GET(c,e[c]);else for(var p=$_GET(),a=0;a<p.keys.length;a++)$_GET(p.keys[a],"")}var $body=$("body"),$header=$("header"),$footer=$("footer"),$menubar=$("#menubar"),$sidebar=$("#sidebar"),$burger=$("#burger"),$modal=$("#modal"),Form={init:function(e){$("input[name='user-phone']").inputmask({mask:"+7(999)999-99-99",showMaskOnHover:!1}),$(".btn-validate").click(Form.validate),Form.selector=e||"form"},validate:function(e){e.preventDefault();var t,o,n=$(this),i=n.closest(Form.selector),r=i.find("*.required"),a=i.find("input[type='checkbox']"),s=!0;if(r.each(function(){t=new RegExp(this.getAttribute("data-regexp")),o=this.value;var e=t.test(o);s&=e,e?Form.onSuccess(this):Form.onFailure(this)}),a.is(":checked")?Form.onSuccess(a.get(0)):(Form.onFailure(a.get(0)),s=!1),s)if(i.is(".ajax")){var l,c={};i.find("input:not([type='checkbox']), textarea").each(function(){l=$(this),c[l.attr("name")]=l.val()}),i.find("input[type='checkbox']").each(function(){l=$(this),c[l.attr("name")]=l.is(":checked")}),$.post(n.attr("href"),c,function(e,t){console.log(e)})}else i.submit()},onFailure:function(e){var t=$(e);t.is("[type='checkbox']")?t.next().addClass("error"):t.addClass("error").removeClass("success").next("span.warn").addClass("active")},onSuccess:function(e){var t=$(e);t.is("[type='checkbox']")?t.next().removeClass("error"):t.removeClass("error").addClass("success").next("span.warn").removeClass("active")}};!function(e){e.fn.cover=function(t){options=e.extend({position:"relative",adaptive:!0,center:!0,setOverflow:!0,logs:!1},t);var o,n=this;if(o=options.center?{position:options.position,top:"50%",left:"50%",transform:"translate(-50%, -50%)","o-transform":"translate(-50%, -50%)","ms-transform":"translate(-50%, -50%)","moz-transform":"translate(-50%, -50%)","webkit-transform":"translate(-50%, -50%)"}:{position:options.position},this.each(function(t){var n=e(this);n.css(o);var i=n.parent();options.setOverflow&&i.css("overflow","hidden");var r={x:i.innerWidth(),y:i.innerHeight()},a={x:n.width(),y:n.height()};r.x/r.y>a.x/a.y?n.css({width:"100%",height:"auto"}):n.css({width:"auto",height:"100%"}),options.logs&&console.log(sformat("Item %1:\n\tWidth: %2px\n\tHeight: %3px",t,r.x,r.y))}),options.adaptive){var i=e(window);i.resize(function(){n.css({width:"auto",height:"auto",position:"relative"}),n.cover({position:options.position,adaptive:!1,center:options.center,setOverflow:options.setOverflow,logs:options.logs})})}return this}}(jQuery),!function(e){e.fn.justifyItemsHeight=function(t){var o=this;t=e.extend({adaptive:!1},t);var n=1;this.each(function(){var t=e(this).outerHeight();t>n&&(n=t)}),this.css("height",n),t.adaptive&&e(window).resize(function(){var t=0;o.each(function(){console.log(1),e(this).attr("style","");var o=e(this).outerHeight();o>t&&(t=o)}),o.css("height",n)})}}(jQuery),$(main);