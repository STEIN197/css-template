function main(){setScalable(),$(".dropdown.dropdown-tabs").each(initDropdown),$("#burger").click(initBurger),$(".slider").each(initSlick),$("img.img-cover").cover({position:"absolute"}),initMfp(),$(window).scroll(),$(window).resize(),$(".js-anchor").click(anchorView)}function initSlick(){var e=$(this),t={},o=e.data("slick");o&&(t=o),$wrapper=e.closest(".slider-wrapper"),$btnswrapper=$wrapper.find(".slider-btns"),$dotswrapper=$wrapper.find(".slider-dots"),$btnswrapper.length&&$.extend(t,{appendArrows:$btnswrapper}),$dotswrapper.length&&$.extend(t,{appendDots:$dotswrapper}),e.slick(t)}function initDropdown(){var e=$(this),t=$(e.data("target"));e.find(".dropdown-item").click(function(e){e.preventDefault();var o=$(this),r=o.attr("href");o.closest(".dropdown").children("button").text(o.text()),t.find(sformat("a[href='%1']",r)).click()})}function initBurger(e){$(this);$menubar.hasClass("expanded")?($menubar.removeClass("expanded"),$menubar.animate({opacity:0},{complete:function(){$menubar.css("display","none"),$body.removeClass("fixed")}})):($menubar.addClass("expanded"),$body.addClass("fixed"),$menubar.css("display","block"),$menubar.animate({opacity:1}))}function initMfp(){$(".js-gallery").each(function(e){var t=$(this);t.find(".item-mfp").magnificPopup({type:"image",gallery:{enabled:!0}})})}function anchorView(e){var t=$(this),o=t.attr("href").split("#"),r=o[0]||location.pathname,n=o[1];location.pathname===r&&(e.preventDefault(),$menubar.is(".expanded")&&$burger.click(),$("html, body").animate({scrollTop:$(sformat("#%1",n)).offset().top-$header.height()},t.data("speed")?t.data("speed")/1:void 0))}function initGoogleMaps(e){e=e||".gmap";var t=$(e);t.each(function(){var e=$(this),t=e.data("map");t=$.extend({zoom:13,center:null,scrollwheel:!1,zoomControl:!0,streetViewControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP},t);var o=new google.maps.Map(this,t),r=new google.maps.Marker({position:new google.maps.LatLng(t.center.lat,t.center.lng),map:o,icon:t.icon}),n=new google.maps.InfoWindow({content:format(t.content)});google.maps.event.addListener(r,"click",function(){n.open(o,r)})})}function setScalable(){if(screen.width<768){var e=$("meta[name='viewport']"),t=e.attr("content");e.attr("content",sformat("%1, user-scalable=no",t))}}function format(e,t,o,r){t=t||window,o=o||"%",r=r||".";var n=new RegExp(o+".+?"+o,"g"),i=e.replace(n,function(e,o,n){e=e.slice(1,-1);var i=e.split(r),a=i.length,s=t[i[0]];if(void 0===s)return"";for(var p=1;p<a;p++)if(s=s[i[p]],void 0===s)return"";return s});return i}function sformat(e){var t=arguments,o=t.length-1,r=new RegExp("%\\d+","g"),n=e.replace(r,function(e){var r=e.slice(1)/1;if(r>=t.length)return"";for(var n="";o<r;)n=r.toString().slice(-1)+n,r=Math.floor(r/10);return t[r]+n});return n}function $_COOKIE(e,t,o,r){if(!Array.prototype.find)throw new Error("This browser does not support Array.prototype.find method");var n=document.cookie.split(";");if(void 0===e){for(var i={keys:[],values:[]},a="",s=0;s<n.length;s++)a=n[s].trim().split("="),i.keys.push(a[0]),i.values.push(a[1]);return i}if(void 0!==t){if(""===t){if(document.cookie=e+"=;max-age=-99999999;expires=Thu, 01 Jan 1970 00:00:01 GMT",void 0!==$_COOKIE(e))throw new Error(sformat('Cookie with key "%1" cannot be removed',e))}else o=o||"/",void 0!==r?document.cookie=format("%key%=%value%;max-age=%lifetime%;path=%path%",{key:e,value:t,path:o,lifetime:r}):document.cookie=format("%key%=%value%;path=%path%",{key:e,value:t,path:o});return!0}if("string"==typeof e){var p="",i=n.find(function(t,o,r){return p=t.trim().split("=")[0],p===e});return void 0===i?void 0:i.split("=")[1]}if(Array.isArray(e)&&e.length)for(var l=e.length,s=0;s<l;s++)$_COOKIE(e[s].name,e[s].value,e[s].lifetime,e[s].path);else{if(!(Object.keys(e).length>0)){n=$_COOKIE();for(var c=n.keys.length,s=0;s<c;++s)$_COOKIE(n.keys[s],"");return!0}for(var d in e)$_COOKIE(d,e[d])}}function $_GET(e,t){if(!history.pushState)throw new Error('Your browser does not support "history.pushState" method');var o=location.href,r=o.split("?")[1];if(!e){if(!r)return;r=r.split("&");var n=r.length,i=param=[];i={keys:[],values:[]};for(var a=0;a<n;++a)param=r[a].split("="),i.keys.push(param[0]),i.values.push(param[1]);return i}if(void 0!==t){if(""===t)return!$_GET(e)||(r=r.split("&"),r=r.filter(function(t,o,r){var n=t.split("=")[0];return e!==n}),r=r.join("&"),o=location.protocol+"//"+location.host+location.pathname+(r?"?"+r:""),history.pushState({path:o},"",o),!0);r=r?r.split("&"):[];var s=$_GET(e);if(s==t)return!0;if(void 0===s)r.push(e+"="+t);else{var p=r.indexOf(e+"="+s);r[p]=e+"="+t}return r=r.join("&"),o=location.protocol+"//"+location.host+location.pathname+"?"+r,history.pushState({path:o},"",o),!0}if("string"==typeof e){if(!r)return;r=r.split("&");var s=r.find(function(t,o,r){var n=t.split("=")[0];return n===e});return void 0===s?void 0:s.split("=")[1]}if(Object.keys(e).length)for(var l in e)$_GET(l,e[l]);else for(var c=$_GET(),a=0;a<c.keys.length;a++)$_GET(c.keys[a],"")}var $body=$("body"),$header=$("header"),$footer=$("footer"),$menubar=$("#menubar"),$sidebar=$("#sidebar"),$burger=$("#burger"),$modal=$("#modal"),Form={init:function(e){$("input[name='user-phone']").inputmask({mask:"+7(999)999-99-99",showMaskOnHover:!1}),$(".btn-validate").click(Form.validate),Form.selector=e||"form"},validate:function(e){e.preventDefault();var t,o,r=$(this),n=r.closest(Form.selector),i=n.find("*.required"),a=n.find("input[type='checkbox']"),s=!0;if(i.each(function(){t=new RegExp(this.getAttribute("data-regexp")),o=this.value;var e=t.test(o);s&=e,e?Form.onSuccess(this):Form.onFailure(this)}),a.is(":checked")?Form.onSuccess(a.get(0)):(Form.onFailure(a.get(0)),s=!1),s)if(n.is(".ajax")){var p,l={};n.find("input:not([type='checkbox']), textarea").each(function(){p=$(this),l[p.attr("name")]=p.val()}),n.find("input[type='checkbox']").each(function(){p=$(this),l[p.attr("name")]=p.is(":checked")}),$.post(r.attr("href"),l,function(e,t){console.log(e)})}else n.submit()},onFailure:function(e){var t=$(e);t.is("[type='checkbox']")?t.next().addClass("error"):t.addClass("error").removeClass("success").next("span.warn").addClass("active")},onSuccess:function(e){var t=$(e);t.is("[type='checkbox']")?t.next().removeClass("error"):t.removeClass("error").addClass("success").next("span.warn").removeClass("active")}};!function(e){e.fn.cover=function(t){options=e.extend({position:"relative",adaptive:!0,center:!0,setOverflow:!0,logs:!1},t);var o,r=this;if(o=options.center?{position:options.position,top:"50%",left:"50%",transform:"translate(-50%, -50%)","o-transform":"translate(-50%, -50%)","ms-transform":"translate(-50%, -50%)","moz-transform":"translate(-50%, -50%)","webkit-transform":"translate(-50%, -50%)"}:{position:options.position},this.each(function(t){var r=e(this);r.css(o);var n=r.parent();options.setOverflow&&n.css("overflow","hidden");var i={x:n.innerWidth(),y:n.innerHeight()},a={x:r.width(),y:r.height()};i.x/i.y>a.x/a.y?r.css({width:"100%",height:"auto"}):r.css({width:"auto",height:"100%"}),options.logs&&console.log(sformat("Item %1:\n\tWidth: %2px\n\tHeight: %3px",t,i.x,i.y))}),options.adaptive){var n=e(window);n.resize(function(){r.css({width:"auto",height:"auto",position:"relative"}),r.cover({position:options.position,adaptive:!1,center:options.center,setOverflow:options.setOverflow,logs:options.logs})})}return this}}(jQuery),!function(e){e.fn.justifyItemsHeight=function(t){var o=this;t=e.extend({adaptive:!1},t);var r=1;this.each(function(){var t=e(this).outerHeight();t>r&&(r=t)}),this.css("height",r),t.adaptive&&e(window).resize(function(){var t=0;o.each(function(){console.log(1),e(this).attr("style","");var o=e(this).outerHeight();o>t&&(t=o)}),o.css("height",r)})}}(jQuery),$(main);